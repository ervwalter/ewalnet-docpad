!function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return s(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t){"use strict";var e=t("fluxxor"),i=t("./actions"),n=t("./gamesStores"),s=t("./collection"),o=t("./plays"),r=t("./profile"),a=React.createClass({displayName:"GamesPage",mixins:[e.FluxMixin(React),e.StoreWatchMixin("CollectionStore")],getStateFromFlux:function(){var t=this.getFlux().store("CollectionStore");return{gamesCount:t.gamesCount}},render:function(){return React.createElement("div",null,React.createElement("h1",null,"Board Games"),React.createElement("p",null,"I admit that ",React.createElement("a",{href:"http://photos.ewal.net/games"},"I am obsessed")," with modern/designer board games. I have a respectable collection of games, and I seem to add to it more frequently than I probably should.  I track the games that I own and the games that I play on ",React.createElement("a",{href:"http://boardgamegeek.com"},"BoardGameGeek"),", and this page chronicles my obsession."),React.createElement(o,null),React.createElement(s,null),this.state.gamesCount>0?React.createElement(r,null):null,React.createElement("br",null),React.createElement("br",null))}}),l=new e.Flux(n,i);l.on("dispatch",function(t,e){console&&console.log&&console.log("[Dispatch]",t,e)}),React.render(React.createElement(a,{flux:l}),document.getElementById("games"))},{"./actions":8,"./collection":10,"./gamesStores":12,"./plays":14,"./profile":15,fluxxor:"fluxxor"}],2:[function(t,e,i){function n(t,e){return h(t,e,1,!1)}function s(t,e){return h(t,e,-1,!1)}function o(t,e){return h(t,e,1,!0)}function r(t,e){return h(t,e,-1,!0)}function a(t,e,i){return function(n,s){return c(n,s,t,e,i)}}function l(t,e){var i=Object.keys(t);return t=p(i,t),e=e===!0?p(i):Array.isArray(e)?p(e):e?p(Object.keys(e),e):{},function(n,s){for(var o,r=0,a=0;!r&&a<i.length;a++)o=i[a],r=c(n,s,o,t[o],e[o]);return r}}function c(t,e,i,n,s){return t&&e?h(t[i],e[i],n,s):t||e?t?-1:1:0}function h(t,e,i,n){var s,o=u(t),r=u(e);return o&&r?(n&&(t=String(t).toLowerCase(),e=String(e).toLowerCase()),s=e>t?-1:t>e?1:0,-1===i?-s:s):o||r?o?-1:1:0}function u(t){return"number"==typeof t?!isNaN(t):null!=t}function p(t,e){for(var i,n={},s=0;s<t.length;s++)i=t[s],n[i]=e?e[i]:!0;return n}i.ascending=n,i.descending=s,i.ascendingIgnoreCase=o,i.descendingIgnoreCase=r,i.property=a,i.properties=l,i.compare=h,i.compareObjects=c},{}],3:[function(t,e){"use strict";var i=function(t){var e,i={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(i[e]=e);return i};e.exports=i},{}],4:[function(){!function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(n){"use strict";function s(t,e,i,s){this.id=i,this.target=t,this.tooltip=L,this.elements={target:t},this._id=X+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:n(),disabled:N,attr:s,onTooltip:N,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=N}function o(t){return t===L||"object"!==n.type(t)}function r(t){return!(n.isFunction(t)||t&&t.attr||t.length||"object"===n.type(t)&&(t.jquery||t.then))}function a(t){var e,i,s,a;return o(t)?N:(o(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,o(e)||e.jquery||e.done?e=t.content={text:i=r(e)?N:e}:i=e.text,"ajax"in e&&(s=e.ajax,a=s&&s.once!==N,delete e.ajax,e.text=function(t,e){var o=i||n(this).attr(e.options.content.attr)||"Loading...",r=n.ajax(n.extend({},s,{context:e})).then(s.success,L,s.error).then(function(t){return t&&a&&e.set("content.text",t),t},function(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)});return a?o:(e.set("content.text",o),r)}),"title"in e&&(o(e.title)||(e.button=e.title.button,e.title=e.title.text),r(e.title||N)&&(e.title=N))),"position"in t&&o(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&o(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===j?{ready:j}:{event:t.show}),"hide"in t&&o(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&o(t.style)&&(t.style={classes:t.style}),n.each(H,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,n=0,s=t,o=e.split(".");s=s[o[n++]];)o.length>n&&(i=s);return[i||t,o.pop()]}function c(t,e){var i,n,s;for(i in this.checks)for(n in this.checks[i])(s=RegExp(n,"i").exec(t))&&(e.push(s),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,e))}function h(t){return U.concat("").join(t?"-"+t+" ":" ")}function u(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function p(t,e){return e>0?setTimeout(n.proxy(t,this),e):(t.call(this),i)}function d(t){return this.tooltip.hasClass(ee)?N:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=p.call(this,function(){this.toggle(j,t)},this.options.show.delay),i)}function f(t){if(this.tooltip.hasClass(ee))return N;var e=n(t.relatedTarget),i=e.closest(V)[0]===this.tooltip[0],s=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||s))try{t.preventDefault(),t.stopImmediatePropagation()}catch(o){}else this.timers.hide=p.call(this,function(){this.toggle(N,t)},this.options.hide.delay,this)}function m(t){return this.tooltip.hasClass(ee)||!this.options.hide.inactive?N:(clearTimeout(this.timers.inactive),this.timers.inactive=p.call(this,function(){this.hide(t)},this.options.hide.inactive),i)}function g(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function y(t,i,s){n(e.body).delegate(t,(i.split?i:i.join(le+" "))+le,function(){var t=R.api[n.attr(this,Y)];t&&!t.disabled&&s.apply(t,arguments)})}function v(t,i,o){var r,l,c,h,u,p=n(e.body),d=t[0]===e?p:t,f=t.metadata?t.metadata(o.metadata):L,m="html5"===o.metadata.type&&f?f[o.metadata.name]:L,g=t.data(o.metadata.name||"qtipopts");try{g="string"==typeof g?n.parseJSON(g):g}catch(y){}if(h=n.extend(j,{},R.defaults,o,"object"==typeof g?a(g):L,a(m||f)),l=h.position,h.id=i,"boolean"==typeof h.content.text){if(c=t.attr(h.content.attr),h.content.attr===N||!c)return N;h.content.text=c}if(l.container.length||(l.container=p),l.target===N&&(l.target=d),h.show.target===N&&(h.show.target=d),h.show.solo===j&&(h.show.solo=l.container.closest("body")),h.hide.target===N&&(h.hide.target=d),h.position.viewport===j&&(h.position.viewport=l.container),l.container=l.container.eq(0),l.at=new q(l.at,j),l.my=new q(l.my),t.data(X))if(h.overwrite)t.qtip("destroy",!0);else if(h.overwrite===N)return N;return t.attr(G,i),h.suppress&&(u=t.attr("title"))&&t.removeAttr("title").attr(ne,u).attr("title",""),r=new s(t,h,i,!!c),t.data(X,r),t.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var t;(t=n(this).data(X))&&t.destroy(!0)}),r}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e){var n,s,o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+be.join(o+" ")+o).split(" "),a=0;if(ve[e])return t.css(ve[e]);for(;n=r[a++];)if((s=t.css(n))!==i)return ve[e]=n,s}function x(t,e){return Math.ceil(parseFloat(w(t,e)))}function _(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function C(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function E(t){this._ns="ie6",this.init(this.qtip=t)}var R,T,q,M,k,j=!0,N=!1,L=null,S="x",P="y",z="width",D="height",I="top",A="left",O="bottom",W="right",F="center",B="flipinvert",$="shift",H={},X="qtip",G="data-hasqtip",Y="data-qtip-id",U=["ui-widget","ui-tooltip"],V="."+X,J="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Q=X+"-fixed",Z=X+"-default",K=X+"-focus",te=X+"-hover",ee=X+"-disabled",ie="_replacedByqTip",ne="oldtitle",se={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||N};T=s.prototype,T._when=function(t){return n.when.apply(n,t)},T.render=function(t){if(this.rendered||this.destroyed)return this;var e,i=this,s=this.options,o=this.cache,r=this.elements,a=s.content.text,l=s.content.title,c=s.content.button,h=s.position,u=("."+this._id+" ",[]);return n.attr(this.target[0],"aria-describedby",this._id),this.tooltip=r.tooltip=e=n("<div/>",{id:this._id,"class":[X,Z,s.style.classes,X+"-pos-"+s.position.my.abbrev()].join(" "),width:s.style.width||"",height:s.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":N,"aria-describedby":this._id+"-content","aria-hidden":j}).toggleClass(ee,this.disabled).attr(Y,this.id).data(X,this).appendTo(h.container).append(r.content=n("<div />",{"class":X+"-content",id:this._id+"-content","aria-atomic":j})),this.rendered=-1,this.positioning=j,l&&(this._createTitle(),n.isFunction(l)||u.push(this._updateTitle(l,N))),c&&this._createButton(),n.isFunction(a)||u.push(this._updateContent(a,N)),this.rendered=j,this._setWidget(),n.each(H,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(u).then(function(){i._trigger("render"),i.positioning=N,i.hiddenDuringWait||!s.show.ready&&!t||i.toggle(j,o.event,N),i.hiddenDuringWait=N}),R.api[this.id]=this,this},T.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=j;var t=this.target,e=t.attr(ne);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(X).removeAttr(Y).removeAttr(G).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(ne),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=L,delete R.api[this.id]}}return this.destroyed?this.target:(t===j&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",n.proxy(e,this)),!this.triggering&&this.hide()),this.target)},M=T.checks={builtin:{"^id$":function(t,e,i,s){var o=i===j?R.nextid:i,r=X+"-"+o;o!==N&&o.length>0&&!n("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=s},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,n){return n?(n&&!this.elements.title&&this._createTitle(),this._updateTitle(n),i):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new q(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(j)||this.toggle(j))},"^style.classes$":function(t,e,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(Z,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},T.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var oe=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,re=/^prerender|show\.ready/i;T.set=function(t,e){if(this.destroyed)return this;var s,o=this.rendered,r=N,h=this.options;return this.checks,"string"==typeof t?(s=t,t={},t[s]=e):t=n.extend({},t),n.each(t,function(e,s){if(o&&re.test(e))return delete t[e],i;var a,c=l(h,e.toLowerCase());a=c[0][c[1]],c[0][c[1]]=s&&s.nodeType?n(s):s,r=oe.test(e)||r,t[e]=[c[0],c[1],s,a]}),a(h),this.positioning=j,n.each(t,n.proxy(c,this)),this.positioning=N,this.rendered&&this.tooltip[0].offsetWidth>0&&r&&this.reposition("mouse"===h.position.target?L:this.cache.event),this},T._update=function(t,e){var i=this,s=this.cache;return this.rendered&&t?(n.isFunction(t)&&(t=t.call(this.elements.target,s.event,this)||""),n.isFunction(t.then)?(s.waiting=j,t.then(function(t){return s.waiting=N,i._update(t,e)},L,function(t){return i._update(t,e)})):t===N||!t&&""!==t?N:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(s.event,!t.length)}))):N},T._waitForContent=function(t){var e=this.cache;return e.waiting=j,(n.fn.imagesLoaded?t.imagesLoaded():n.Deferred().resolve([])).done(function(){e.waiting=N}).promise()},T._updateContent=function(t,e){this._update(t,this.elements.content,e)},T._updateTitle=function(t,e){this._update(t,this.elements.title,e)===N&&this._removeTitle(N)},T._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=n("<div />",{"class":X+"-titlebar "+(this.options.style.widget?h("header"):"")}).append(t.title=n("<div />",{id:e,"class":X+"-title","aria-atomic":j})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){n(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){n(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},T._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=L,t!==N&&this.reposition())},T.reposition=function(i,s){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=j;var o,r,a=this.cache,l=this.tooltip,c=this.options.position,h=c.target,u=c.my,p=c.at,d=c.viewport,f=c.container,m=c.adjust,g=m.method.split(" "),y=l.outerWidth(N),v=l.outerHeight(N),b=0,w=0,x=l.css("position"),_={left:0,top:0},C=l[0].offsetWidth>0,E=i&&"scroll"===i.type,R=n(t),T=f[0].ownerDocument,q=this.mouse;if(n.isArray(h)&&2===h.length)p={x:A,y:I},_={left:h[0],top:h[1]};else if("mouse"===h)p={x:A,y:I},!q||!q.pageX||!m.mouse&&i&&i.pageX?i&&i.pageX||((!m.mouse||this.options.show.distance)&&a.origin&&a.origin.pageX?i=a.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=a.event)):i=q,"static"!==x&&(_=f.offset()),T.body.offsetWidth!==(t.innerWidth||T.documentElement.clientWidth)&&(r=n(e.body).offset()),_={left:i.pageX-_.left+(r&&r.left||0),top:i.pageY-_.top+(r&&r.top||0)},m.mouse&&E&&q&&(_.left-=(q.scrollX||0)-R.scrollLeft(),_.top-=(q.scrollY||0)-R.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?a.target=n(i.target):i.target||(a.target=this.elements.target):"event"!==h&&(a.target=n(h.jquery?h:this.elements.target)),h=a.target,h=n(h).eq(0),0===h.length)return this;h[0]===e||h[0]===t?(b=se.iOS?t.innerWidth:h.width(),w=se.iOS?t.innerHeight:h.height(),h[0]===t&&(_={top:(d||h).scrollTop(),left:(d||h).scrollLeft()})):H.imagemap&&h.is("area")?o=H.imagemap(this,h,p,H.viewport?g:N):H.svg&&h&&h[0].ownerSVGElement?o=H.svg(this,h,p,H.viewport?g:N):(b=h.outerWidth(N),w=h.outerHeight(N),_=h.offset()),o&&(b=o.width,w=o.height,r=o.offset,_=o.position),_=this.reposition.offset(h,_,f),(se.iOS>3.1&&4.1>se.iOS||se.iOS>=4.3&&4.33>se.iOS||!se.iOS&&"fixed"===x)&&(_.left-=R.scrollLeft(),_.top-=R.scrollTop()),(!o||o&&o.adjustable!==N)&&(_.left+=p.x===W?b:p.x===F?b/2:0,_.top+=p.y===O?w:p.y===F?w/2:0)}return _.left+=m.x+(u.x===W?-y:u.x===F?-y/2:0),_.top+=m.y+(u.y===O?-v:u.y===F?-v/2:0),H.viewport?(_.adjusted=H.viewport(this,_,c,b,w,y,v),r&&_.adjusted.left&&(_.left+=r.left),r&&_.adjusted.top&&(_.top+=r.top)):_.adjusted={left:0,top:0},this._trigger("move",[_,d.elem||d],i)?(delete _.adjusted,s===N||!C||isNaN(_.left)||isNaN(_.top)||"mouse"===h||!n.isFunction(c.effect)?l.css(_):n.isFunction(c.effect)&&(c.effect.call(l,this,n.extend({},_)),l.queue(function(t){n(this).css({opacity:"",height:""}),se.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=N,this):this},T.reposition.offset=function(t,i,s){function o(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!s[0])return i;var r,a,l,c,h=n(t[0].ownerDocument),u=!!se.ie&&"CSS1Compat"!==e.compatMode,p=s[0];do"static"!==(a=n.css(p,"position"))&&("fixed"===a?(l=p.getBoundingClientRect(),o(h,-1)):(l=n(p).position(),l.left+=parseFloat(n.css(p,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(p,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(p,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(p,"marginTop"))||0),r||"hidden"===(c=n.css(p,"overflow"))||"visible"===c||(r=n(p)));while(p=p.offsetParent);return r&&(r[0]!==h[0]||u)&&o(r,1),i};var ae=(q=T.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,F).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?P:S}).prototype;ae.invert=function(t,e){this[t]=this[t]===A?W:this[t]===W?A:e||this[t]},ae.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===P||this.forceY&&"center"!==e?e+" "+t:t+" "+e},ae.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},ae.clone=function(){return new q(this.string(),this.forceY)},T.toggle=function(t,i){var s=this.cache,o=this.options,r=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(s.event.type)&&o.show.target.add(i.target).length===o.show.target.length&&r.has(i.relatedTarget).length)return this;s.event=u(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=j),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,l,c,h=t?"show":"hide",p=this.options[h],d=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,m=this.tooltip.css("width"),g=this.tooltip.is(":visible"),y=t||1===p.target.length,v=!i||2>p.target.length||s.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!g),a=!r.is(":animated")&&g===t&&v,l=a?L:!!this._trigger(h,[90]),this.destroyed?this:(l!==N&&t&&this.focus(i),!l||a?this:(n.attr(r[0],"aria-hidden",!t),t?(s.origin=u(this.mouse),n.isFunction(f.text)&&this._updateContent(f.text,N),n.isFunction(f.title)&&this._updateTitle(f.title,N),!k&&"mouse"===d.target&&d.adjust.mouse&&(n(e).bind("mousemove."+X,this._storeMouse),k=j),m||r.css("width",r.outerWidth(N)),this.reposition(i,arguments[2]),m||r.css("width",""),p.solo&&("string"==typeof p.solo?n(p.solo):n(V,p.solo)).not(r).not(p.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete s.origin,k&&!n(V+'[tracking="true"]:visible',p.solo).not(r).length&&(n(e).unbind("mousemove."+X),k=N),this.blur(i)),c=n.proxy(function(){t?(se.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof p.autofocus&&n(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),p.effect===N||y===N?(r[h](),c()):n.isFunction(p.effect)?(r.stop(1,1),p.effect.call(r,this),r.queue("fx",function(t){c(),t()})):r.fadeTo(90,t?1:0,c),t&&p.target.trigger("qtip-"+this.id+"-inactive"),this))},T.show=function(t){return this.toggle(j,t)},T.hide=function(t){return this.toggle(N,t)},T.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=n(V),i=this.tooltip,s=parseInt(i[0].style.zIndex,10),o=R.zindex+e.length;return i.hasClass(K)||this._trigger("focus",[o],t)&&(s!==o&&(e.each(function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+K).qtip("blur",t)),i.addClass(K)[0].style.zIndex=o),this},T.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(K),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},T.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof t&&(t=j),this.rendered&&this.tooltip.toggleClass(ee,t).attr("aria-disabled",t),this.disabled=!!t,this)},T.enable=function(){return this.disable(N)},T._createButton=function(){var t=this,e=this.elements,i=e.tooltip,s=this.options.content.button,o="string"==typeof s,r=o?s:"Close tooltip";e.button&&e.button.remove(),e.button=s.jquery?s:n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":X+"-icon"),title:r,"aria-label":r}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(ee)||t.hide(e),N})},T._updateButton=function(t){if(!this.rendered)return N;var e=this.elements.button;t?this._createButton():e.remove()},T._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,n=i.hasClass(ee);i.removeClass(ee),ee=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(ee,n),i.toggleClass("ui-helper-reset "+h(),t).toggleClass(Z,this.options.style.def&&!t),e.content&&e.content.toggleClass(h("content"),t),e.titlebar&&e.titlebar.toggleClass(h("header"),t),e.button&&e.button.toggleClass(X+"-icon",!t)},T._storeMouse=function(t){(this.mouse=u(t)).type="mousemove"},T._bind=function(t,e,i,s,o){var r="."+this._id+(s?"-"+s:"");e.length&&n(t).bind((e.split?e:e.join(r+" "))+r,n.proxy(i,o||this))},T._unbind=function(t,e){n(t).unbind("."+this._id+(e?"-"+e:""))};var le="."+X;n(function(){y(V,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=n(t.currentTarget),s=n(t.relatedTarget||t.target),o=this.options;e?(this.focus(t),i.hasClass(Q)&&!i.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.hide.event&&o.show.target&&!s.closest(o.show.target[0]).length&&this.hide(t),i.toggleClass(te,e)}),y("["+Y+"]",J,m)}),T._trigger=function(t,e,i){var s=n.Event("tooltip"+t);return s.originalEvent=i&&n.extend({},i)||this.cache.event||L,this.triggering=t,this.tooltip.trigger(s,[this].concat(e||[])),this.triggering=N,!s.isDefaultPrevented()},T._bindEvents=function(t,e,s,o,r,a){if(o.add(s).length===o.length){var l=[];e=n.map(e,function(e){var s=n.inArray(e,t);return s>-1?(l.push(t.splice(s,1)[0]),i):e}),l.length&&this._bind(s,l,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?a:r).call(this,t)})}this._bind(s,t,r),this._bind(o,e,a)},T._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?N:(this.cache.event=u(t),this.cache.target=t?n(t.target):[i],clearTimeout(this.timers.show),this.timers.show=p.call(this,function(){this.render("object"==typeof t||s.show.ready)},s.show.delay),i)}var s=this.options,o=s.show.target,r=s.hide.target,a=s.show.event?n.trim(""+s.show.event).split(" "):[],l=s.hide.event?n.trim(""+s.hide.event).split(" "):[];/mouse(over|enter)/i.test(s.show.event)&&!/mouse(out|leave)/i.test(s.hide.event)&&l.push("mouseleave"),this._bind(o,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=j}),this._bindEvents(a,l,o,r,e,function(){clearTimeout(this.timers.show)}),(s.show.ready||s.prerender)&&e.call(this,t)},T._assignEvents=function(){var i=this,s=this.options,o=s.position,r=this.tooltip,a=s.show.target,l=s.hide.target,c=o.container,h=o.viewport,u=n(e),p=(n(e.body),n(t)),y=s.show.event?n.trim(""+s.show.event).split(" "):[],v=s.hide.event?n.trim(""+s.hide.event).split(" "):[];n.each(s.events,function(t,e){i._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)}),/mouse(out|leave)/i.test(s.hide.event)&&"window"===s.hide.leave&&this._bind(u,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),s.hide.fixed?l=l.add(r.addClass(Q)):/mouse(over|enter)/i.test(s.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=n(t.target),i=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,s=e.parents(V).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||s||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof s.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",m),this._bind(l.add(r),R.inactiveEvents,m,"-inactive")),this._bindEvents(y,v,a,l,d,f),this._bind(a.add(r),"mousemove",function(t){if("number"==typeof s.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(s.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(u,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||h.length)&&this._bind(n.event.special.resize?h:p,"resize",g),o.adjust.scroll&&this._bind(p.add(o.container),"scroll",g)},T._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(n([]).pushStack(n.grep(i,function(t){return"object"==typeof t})))},R=n.fn.qtip=function(t,e,s){var o=(""+t).toLowerCase(),r=L,l=n.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?n.data(this[0],X):L;return!arguments.length&&h||"api"===o?h:"string"==typeof t?(this.each(function(){var t=n.data(this,X);if(!t)return j;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==o&&"options"!==o)t[o]&&t[o].apply(t,l);else{if(s===i&&!n.isPlainObject(e))return r=t.get(e),N;t.set(e,s)}}),r!==L?r:this):"object"!=typeof t&&arguments.length?i:(h=a(n.extend(j,{},t)),this.each(function(t){var e,s;return s=n.isArray(h.id)?h.id[t]:h.id,s=!s||s===N||1>s.length||R.api[s]?R.nextid++:s,e=v(n(this),s,h),e===N?j:(R.api[s]=e,n.each(H,function(){"initialize"===this.initialize&&this(e)}),e._assignInitialEvents(c),i)}))},n.qtip=s,R.api={},n.each({attr:function(t,e){if(this.length){var i=this[0],s="title",o=n.data(i,"qtip");if(t===s&&o&&"object"==typeof o&&o.options.suppress)return 2>arguments.length?n.attr(i,ne):(o&&o.options.content.attr===s&&o.cache.attr&&o.set("content.text",e),this.attr(ne,e))}return n.fn["attr"+ie].apply(this,arguments)},clone:function(t){var e=(n([]),n.fn["clone"+ie].apply(this,arguments));return t||e.filter("["+ne+"]").attr("title",function(){return n.attr(this,ne)}).removeAttr(ne),e}},function(t,e){if(!e||n.fn[t+ie])return j;var i=n.fn[t+ie]=n.fn[t];n.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+ie]=n.cleanData,n.cleanData=function(t){for(var e,i=0;(e=n(t[i])).length;i++)if(e.attr(G))try{e.triggerHandler("removeqtip")}catch(s){}n["cleanData"+ie].apply(this,arguments)}),R.version="2.2.0",R.nextid=0,R.inactiveEvents=J,R.zindex=15e3,R.defaults={prerender:N,id:N,overwrite:j,suppress:j,content:{text:j,attr:"title",title:N,button:N},position:{my:"top left",at:"bottom right",target:N,container:N,viewport:N,adjust:{x:0,y:0,mouse:j,scroll:j,resize:j,method:"flipinvert flipinvert"},effect:function(t,e){n(this).animate(e,{duration:200,queue:N})}},show:{target:N,event:"mouseenter",effect:j,delay:90,solo:N,ready:N,autofocus:N},hide:{target:N,event:"mouseleave",effect:j,delay:0,fixed:N,inactive:N,leave:"window",distance:N},style:{classes:"",widget:N,width:N,height:N,def:j},events:{render:L,move:L,show:L,hide:L,toggle:L,visible:L,hidden:L,focus:L,blur:L}};var ce,he="margin",ue="border",pe="color",de="background-color",fe="transparent",me=" !important",ge=!!e.createElement("canvas").getContext,ye=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ve={},be=["Webkit","O","Moz","ms"];if(ge)var we=t.devicePixelRatio||1,xe=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),_e=we/xe;else var Ce=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};n.extend(_.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=n("<div />",{"class":X+"-tip"}).prependTo(t.tooltip),ge?(e=n("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=Ce("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(n("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===I||t.y===F&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(j))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===N||e===N?t=N:t===j?t=new q(e.string()):t.string||(t=new q(t),t.fixed=j),t},_parseWidth:function(t,e,i){var n=this.qtip.elements,s=ue+b(e)+"Width";return(i?x(i,s):x(n.content,s)||x(this._useTitle(t)&&n.titlebar||n.content,s)||x(n.tooltip,s))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ue+b(t.y)+b(t.x)+"Radius";return 9>se.ie?0:x(this._useTitle(t)&&e.titlebar||e.content,i)||x(e.tooltip,i)||0},_invalidColour:function(t,e,i){var n=t.css(e);return!n||i&&n===t.css(i)||ye.test(n)?N:n},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),s=ue+b(t[t.precedance])+b(pe),o=this._useTitle(t)&&e.titlebar||e.content,r=this._invalidColour,a=[];return a[0]=r(i,de)||r(o,de)||r(e.content,de)||r(e.tooltip,de)||i.css(de),a[1]=r(i,s,pe)||r(o,s,pe)||r(e.content,s,pe)||r(e.tooltip,s,pe)||e.tooltip.css(s),n("*",i).add(i).css("cssText",de+":"+fe+me+";"+ue+":0"+me+";"),a},_calculateSize:function(t){var e,i,n,s=t.precedance===P,o=this.options.width,r=this.options.height,a="c"===t.abbrev(),l=(s?o:r)*(a?.5:1),c=Math.pow,h=Math.round,u=Math.sqrt(c(l,2)+c(r,2)),p=[this.border/l*u,this.border/r*u];return p[2]=Math.sqrt(c(p[0],2)-c(this.border,2)),p[3]=Math.sqrt(c(p[1],2)-c(this.border,2)),e=u+p[2]+p[3]+(a?0:p[0]),i=e/u,n=[h(i*o),h(i*r)],s?n:n.reverse()},_calculateTip:function(t,e,i){i=i||1,e=e||this.size;
var n=e[0]*i,s=e[1]*i,o=Math.ceil(n/2),r=Math.ceil(s/2),a={br:[0,0,n,s,n,0],bl:[0,0,n,0,0,s],tr:[0,s,n,0,n,s],tl:[0,0,0,s,n,s],tc:[0,s,o,0,n,s],bc:[0,0,n,0,o,s],rc:[0,0,n,r,0,s],lc:[n,0,n,s,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(ge||se.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var s,o,r,a,l,c,h,u,p=this.qtip.elements,d=this.element,f=d.children(),m=this.options,g=this.size,y=m.mimic,v=Math.round;e||(e=this.qtip.cache.corner||this.corner),y===N?y=e:(y=new q(y),y.precedance=e.precedance,"inherit"===y.x?y.x=e.x:"inherit"===y.y?y.y=e.y:y.x===y.y&&(y[e.precedance]=e[e.precedance])),o=y.precedance,e.precedance===S?this._swapDimensions():this._resetDimensions(),s=this.color=this._parseColours(e),s[1]!==fe?(u=this.border=this._parseWidth(e,e[e.precedance]),m.border&&1>u&&!ye.test(s[1])&&(s[0]=s[1]),this.border=u=m.border!==j?m.border:u):this.border=u=0,h=this.size=this._calculateSize(e),d.css({width:h[0],height:h[1],lineHeight:h[1]+"px"}),c=e.precedance===P?[v(y.x===A?u:y.x===W?h[0]-g[0]-u:(h[0]-g[0])/2),v(y.y===I?h[1]-g[1]:0)]:[v(y.x===A?h[0]-g[0]:0),v(y.y===I?u:y.y===O?h[1]-g[1]-u:(h[1]-g[1])/2)],ge?(r=f[0].getContext("2d"),r.restore(),r.save(),r.clearRect(0,0,6e3,6e3),a=this._calculateTip(y,g,_e),l=this._calculateTip(y,this.size,_e),f.attr(z,h[0]*_e).attr(D,h[1]*_e),f.css(z,h[0]).css(D,h[1]),this._drawCoords(r,l),r.fillStyle=s[1],r.fill(),r.translate(c[0]*_e,c[1]*_e),this._drawCoords(r,a),r.fillStyle=s[0],r.fill()):(a=this._calculateTip(y),a="m"+a[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",c[2]=u&&/^(r|b)/i.test(e.string())?8===se.ie?2:1:0,f.css({coordsize:h[0]+u+" "+(h[1]+u),antialias:""+(y.string().indexOf(F)>-1),left:c[0]-c[2]*Number(o===S),top:c[1]-c[2]*Number(o===P),width:h[0]+u,height:h[1]+u}).each(function(t){var e=n(this);e[e.prop?"prop":"attr"]({coordsize:h[0]+u+" "+(h[1]+u),path:a,fillcolor:s[0],filled:!!t,stroked:!t}).toggle(!(!u&&!t)),!t&&e.html(Ce("stroke",'weight="'+2*u+'px" color="'+s[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){p.tip.css({display:"inline-block",visibility:"visible"})},1),i!==N&&this.calculate(e,h)},calculate:function(t,e){if(!this.enabled)return N;var i,s,o=this,r=this.qtip.elements,a=this.element,l=this.options.offset,c=(r.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,i=t.precedance,e=e||this._calculateSize(t),s=[t.x,t.y],i===S&&s.reverse(),n.each(s,function(n,s){var a,h,u;s===F?(a=i===P?A:I,c[a]="50%",c[he+"-"+a]=-Math.round(e[i===P?0:1]/2)+l):(a=o._parseWidth(t,s,r.tooltip),h=o._parseWidth(t,s,r.content),u=o._parseRadius(t),c[s]=Math.max(-o.border,n?h:l+(u>a?u:-a)))}),c[t[i]]-=e[i===S?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(t,e,n){function s(t,e,i,n,s){t===$&&c.precedance===e&&h[n]&&c[i]!==F?c.precedance=c.precedance===S?P:S:t!==$&&h[n]&&(c[e]=c[e]===F?h[n]>0?n:s:c[e]===n?s:n)}function o(t,e,s){c[t]===F?m[he+"-"+e]=f[t]=r[he+"-"+e]-h[e]:(a=r[s]!==i?[h[e],-r[e]]:[-h[e],r[e]],(f[t]=Math.max(a[0],a[1]))>a[0]&&(n[e]-=h[e],f[e]=N),m[r[s]!==i?s:e]=f[t])}if(this.enabled){var r,a,l=e.cache,c=this.corner.clone(),h=n.adjusted,u=e.options.position.adjust.method.split(" "),p=u[0],d=u[1]||u[0],f={left:N,top:N,x:0,y:0},m={};this.corner.fixed!==j&&(s(p,S,P,A,W),s(d,P,S,I,O),c.string()===l.corner.string()||l.cornerTop===h.top&&l.cornerLeft===h.left||this.update(c,N)),r=this.calculate(c),r.right!==i&&(r.left=-r.right),r.bottom!==i&&(r.top=-r.bottom),r.user=this.offset,(f.left=p===$&&!!h.left)&&o(S,A,W),(f.top=d===$&&!!h.top)&&o(P,I,O),this.element.css(m).toggle(!(f.x&&f.y||c.x===F&&f.y||c.y===F&&f.x)),n.left-=r.left.charAt?r.user:p!==$||f.top||!f.left&&!f.top?r.left+this.border:0,n.top-=r.top.charAt?r.user:d!==$||f.left||!f.left&&!f.top?r.top+this.border:0,l.cornerLeft=h.left,l.cornerTop=h.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ce=H.tip=function(t){return new _(t,t.options.style.tip)},ce.initialize="render",ce.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=j)}},M.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(j,R.defaults,{style:{tip:{corner:j,mimic:N,width:6,height:6,border:j,offset:0}}});var Ee,Re,Te="qtip-modal",qe="."+Te;Re=function(){function t(t){if(n.expr[":"].focusable)return n.expr[":"].focusable;var e,i,s,o=!isNaN(n.attr(t,"tabindex")),r=t.nodeName&&t.nodeName.toLowerCase();return"area"===r?(e=t.parentNode,i=e.name,t.href&&i&&"map"===e.nodeName.toLowerCase()?(s=n("img[usemap=#"+i+"]")[0],!!s&&s.is(":visible")):!1):/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||o:o}function i(t){1>h.length&&t.length?t.not("body").blur():h.first().focus()}function s(t){if(l.is(":visible")){var e,s=n(t.target),a=o.tooltip,c=s.closest(V);e=1>c.length?N:parseInt(c[0].style.zIndex,10)>parseInt(a[0].style.zIndex,10),e||s.closest(V)[0]===a[0]||i(s),r=t.target===h[h.length-1]}}var o,r,a,l,c=this,h={};n.extend(c,{init:function(){return l=c.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return N}}).hide(),n(e.body).bind("focusin"+qe,s),n(e).bind("keydown"+qe,function(t){o&&o.options.show.modal.escape&&27===t.keyCode&&o.hide(t)}),l.bind("click"+qe,function(t){o&&o.options.show.modal.blur&&o.hide(t)}),c},update:function(e){o=e,h=e.options.show.modal.stealfocus!==N?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,s,r){var h=(n(e.body),t.tooltip),u=t.options.show.modal,p=u.effect,d=s?"show":"hide",f=l.is(":visible"),m=n(qe).filter(":visible:not(:animated)").not(h);return c.update(t),s&&u.stealfocus!==N&&i(n(":focus")),l.toggleClass("blurs",u.blur),s&&l.appendTo(e.body),l.is(":animated")&&f===s&&a!==N||!s&&m.length?c:(l.stop(j,N),n.isFunction(p)?p.call(l,s):p===N?l[d]():l.fadeTo(parseInt(r,10)||90,s?1:0,function(){s||l.hide()}),s||l.queue(function(t){l.css({left:"",top:""}),n(qe).length||l.detach(),t()}),a=s,o.destroyed&&(o=L),c)}}),c.init()},Re=new Re,n.extend(C.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=Re.elem,e.addClass(Te).css("z-index",R.modal_zindex+n(qe).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,i,s){var o=t.originalEvent;if(t.target===e[0])if(o&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(o.type)&&n(o.relatedTarget).closest(Re.elem[0]).length)try{t.preventDefault()}catch(r){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(t,"tooltipshow"===t.type,s)},this._ns,this),t._bind(e,"tooltipfocus",function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var s=n(qe),o=R.modal_zindex+s.length,r=parseInt(e[0].style.zIndex,10);Re.elem[0].style.zIndex=o-1,s.each(function(){this.style.zIndex>r&&(this.style.zIndex-=1)}),s.filter("."+K).qtip("blur",t.originalEvent),e.addClass(K)[0].style.zIndex=o,Re.update(i);try{t.preventDefault()}catch(a){}}},this._ns,this),t._bind(e,"tooltiphide",function(t){t.target===e[0]&&n(qe).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this),i):this},toggle:function(t,e,n){return t&&t.isDefaultPrevented()?this:(Re.toggle(this.qtip,!!e,n),i)},destroy:function(){this.qtip.tooltip.removeClass(Te),this.qtip._unbind(this.qtip.tooltip,this._ns),Re.toggle(this.qtip,N),delete this.qtip.elements.overlay}}),Ee=H.modal=function(t){return new C(t,t.options.show.modal)},Ee.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:t.show.modal.on===i&&(t.show.modal.on=j))},R.modal_zindex=R.zindex-200,Ee.initialize="render",M.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend(j,R.defaults,{show:{modal:{on:N,effect:j,blur:j,stealfocus:j,escape:j}}}),H.viewport=function(i,n,s,o,r,a,l){function c(t,e,i,s,o,r,a,l,c){var h=n[o],p=x[t],b=_[t],w=i===$,C=p===o?c:p===r?-c:-c/2,E=b===o?l:b===r?-l:-l/2,R=y[o]+v[o]-(f?0:d[o]),T=R-h,q=h+c-(a===z?m:g)-R,M=C-(x.precedance===t||p===x[e]?E:0)-(b===F?l/2:0);return w?(M=(p===o?1:-1)*C,n[o]+=T>0?T:q>0?-q:0,n[o]=Math.max(-d[o]+v[o],h-M,Math.min(Math.max(-d[o]+v[o]+(a===z?m:g),h+M),n[o],"center"===p?h-C:1e9))):(s*=i===B?2:0,T>0&&(p!==o||q>0)?(n[o]-=M+s,u.invert(t,o)):q>0&&(p!==r||T>0)&&(n[o]-=(p===F?-M:M)+s,u.invert(t,r)),y>n[o]&&-n[o]>q&&(n[o]=h,u=x.clone())),n[o]-h}var h,u,p,d,f,m,g,y,v,b=s.target,w=i.elements.tooltip,x=s.my,_=s.at,C=s.adjust,E=C.method.split(" "),R=E[0],T=E[1]||E[0],q=s.viewport,M=s.container,k=i.cache,j={left:0,top:0};return q.jquery&&b[0]!==t&&b[0]!==e.body&&"none"!==C.method?(d=M.offset()||j,f="static"===M.css("position"),h="fixed"===w.css("position"),m=q[0]===t?q.width():q.outerWidth(N),g=q[0]===t?q.height():q.outerHeight(N),y={left:h?0:q.scrollLeft(),top:h?0:q.scrollTop()},v=q.offset()||j,("shift"!==R||"shift"!==T)&&(u=x.clone()),j={left:"none"!==R?c(S,P,R,C.x,A,W,z,o,a):0,top:"none"!==T?c(P,S,T,C.y,I,O,D,r,l):0},u&&k.lastClass!==(p=X+"-pos-"+u.abbrev())&&w.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=p),j):j},H.polys={polygon:function(t,e){var i,n,s,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:N},r=0,a=[],l=1,c=1,h=0,u=0;for(r=t.length;r--;)i=[parseInt(t[--r],10),parseInt(t[r+1],10)],i[0]>o.position.right&&(o.position.right=i[0]),i[0]<o.position.left&&(o.position.left=i[0]),i[1]>o.position.bottom&&(o.position.bottom=i[1]),i[1]<o.position.top&&(o.position.top=i[1]),a.push(i);if(n=o.width=Math.abs(o.position.right-o.position.left),s=o.height=Math.abs(o.position.bottom-o.position.top),"c"===e.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;n>0&&s>0&&l>0&&c>0;)for(n=Math.floor(n/2),s=Math.floor(s/2),e.x===A?l=n:e.x===W?l=o.width-n:l+=Math.floor(n/2),e.y===I?c=s:e.y===O?c=o.height-s:c+=Math.floor(s/2),r=a.length;r--&&!(2>a.length);)h=a[r][0]-o.position.left,u=a[r][1]-o.position.top,(e.x===A&&h>=l||e.x===W&&l>=h||e.x===F&&(l>h||h>o.width-l)||e.y===I&&u>=c||e.y===O&&c>=u||e.y===F&&(c>u||u>o.height-c))&&a.splice(r,1);o.position={left:a[0][0],top:a[0][1]}}return o},rect:function(t,e,i,n){return{width:Math.abs(i-t),height:Math.abs(n-e),position:{left:Math.min(t,i),top:Math.min(e,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,n,s){var o=H.polys._angles[s.abbrev()],r=0===o?0:i*Math.cos(o*Math.PI),a=n*Math.sin(o*Math.PI);return{width:2*i-Math.abs(r),height:2*n-Math.abs(a),position:{left:t+r,top:e+a},adjustable:N}},circle:function(t,e,i,n){return H.polys.ellipse(t,e,i,i,n)}},H.svg=function(t,i,s){for(var o,r,a,l,c,h,u,p,d,f,m,g=n(e),y=i[0],v=n(y.ownerSVGElement),b=1,w=1,x=!0;!y.getBBox;)y=y.parentNode;if(!y.getBBox||!y.parentNode)return N;o=v.attr("width")||v.width()||parseInt(v.css("width"),10),r=v.attr("height")||v.height()||parseInt(v.css("height"),10);var _=(parseInt(i.css("stroke-width"),10)||0)/2;switch(_&&(b+=_/o,w+=_/r),y.nodeName){case"ellipse":case"circle":f=H.polys.ellipse(y.cx.baseVal.value,y.cy.baseVal.value,(y.rx||y.r).baseVal.value+_,(y.ry||y.r).baseVal.value+_,s);break;case"line":case"polygon":case"polyline":for(d=y.points||[{x:y.x1.baseVal.value,y:y.y1.baseVal.value},{x:y.x2.baseVal.value,y:y.y2.baseVal.value}],f=[],p=-1,h=d.numberOfItems||d.length;h>++p;)u=d.getItem?d.getItem(p):d[p],f.push.apply(f,[u.x,u.y]);f=H.polys.polygon(f,s);break;default:f=y.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},x=!1}return m=f.position,v=v[0],x&&(v.createSVGPoint&&(a=y.getScreenCTM(),d=v.createSVGPoint(),d.x=m.left,d.y=m.top,l=d.matrixTransform(a),m.left=l.x,m.top=l.y),v.viewBox&&(c=v.viewBox.baseVal)&&c.width&&c.height&&(b*=o/c.width,w*=r/c.height)),m.left+=g.scrollLeft(),m.top+=g.scrollTop(),f},H.imagemap=function(t,e,i){e.jquery||(e=n(e));var s,o,r,a,l,c=e.attr("shape").toLowerCase().replace("poly","polygon"),h=n('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=n.trim(e.attr("coords")),p=u.replace(/,$/,"").split(",");if(!h.length)return N;if("polygon"===c)a=H.polys.polygon(p,i);else{if(!H.polys[c])return N;for(r=-1,l=p.length,o=[];l>++r;)o.push(parseInt(p[r],10));a=H.polys[c].apply(this,o.concat(i))}return s=h.offset(),s.left+=Math.ceil((h.outerWidth(N)-h.width())/2),s.top+=Math.ceil((h.outerHeight(N)-h.height())/2),a.position.left+=s.left,a.position.top+=s.top,a};var Me,ke='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';n.extend(E.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=n(t).scrollTop()+"px")},init:function(i){var s=i.tooltip;1>n("select, object").length&&(this.bgiframe=i.elements.bgiframe=n(ke).appendTo(s),i._bind(s,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:X+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(s,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,n={height:i.outerHeight(N),width:i.outerWidth(N)},s=this.qtip.plugins.tip,o=this.qtip.elements.tip;e=parseInt(i.css("borderLeftWidth"),10)||0,e={left:-e,top:-e},s&&o&&(t="x"===s.corner.precedance?[z,A]:[D,I],e[t[1]]-=o[t[0]]()),this.bgiframe.css(e).css(n)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var t,e,i,n,s=this.qtip.tooltip,o=this.qtip.options.style,r=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&s.css(D,o.height),o.width?s.css(z,o.width):(s.css(z,"").appendTo(this.redrawContainer),e=s.width(),1>e%2&&(e+=1),i=s.css("maxWidth")||"",n=s.css("minWidth")||"",t=(i+n).indexOf("%")>-1?r.width()/100:0,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e,n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||0,e=i+n?Math.min(Math.max(e,n),i):e,s.css(z,Math.round(e)).appendTo(r)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),Me=H.ie6=function(t){return 6===se.ie?new E(t):N},Me.initialize="render",M.ie6={"^content|style$":function(){this.redraw()}}})}(window,document)},{}],5:[function(t,e){function i(){}function n(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function s(){if(g.XMLHttpRequest&&("file:"!=g.location.protocol||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function o(t){return t===Object(t)}function r(t){if(!o(t))return t;var e=[];for(var i in t)null!=t[i]&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")}function a(t){for(var e,i,n={},s=t.split("&"),o=0,r=s.length;r>o;++o)i=s[o],e=i.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function l(t){var e,i,n,s,o=t.split(/\r?\n/),r={};o.pop();for(var a=0,l=o.length;l>a;++a)i=o[a],e=i.indexOf(":"),n=i.slice(0,e).toLowerCase(),s=y(i.slice(e+1)),r[n]=s;return r}function c(t){return t.split(/ *; */).shift()}function h(t){return m(t.split(/ *; */),function(t,e){var i=e.split(/ *= */),n=i.shift(),s=i.shift();return n&&s&&(t[n]=s),t},{})}function u(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function p(t,e){var i=this;f.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new u(i)}catch(n){t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n}i.callback(t,e)})}function d(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var f=t("emitter"),m=t("reduce"),g="undefined"==typeof window?this:window,y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=r,d.parseString=a,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},u.prototype.get=function(t){return this.header[t.toLowerCase()]},u.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=c(t);var e=h(t);for(var i in e)this[i]=e[i]},u.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&t.length?e(t):null},u.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},u.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",s=new Error(n);return s.status=this.status,s.method=e,s.url=i,s},d.Response=u,f(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(o(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},p.prototype.auth=function(t,e){var i=btoa(t+":"+e);return this.set("Authorization","Basic "+i),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,i){return this._formData||(this._formData=new FormData),this._formData.append(t,e,i),this},p.prototype.send=function(t){var e=o(t),i=this.getHeader("Content-Type");if(e&&o(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),i=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==i?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(i||this.type("json"),this):this},p.prototype.callback=function(t,e){var i=this._callback;return this.clearTimeout(),2==i.length?i(t,e):t?this.emit("error",t):void i(e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,o=this.xhr=s(),r=this._query.join("&"),a=this._timeout,l=this._formData||this._data;if(this._callback=t||i,o.onreadystatechange=function(){return 4==o.readyState?0==o.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},o.upload&&(o.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),r&&(r=d.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),o.open(this.method,this.url,!0),this._withCredentials&&(o.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof l&&!n(l)){var c=d.serialize[this.getHeader("Content-Type")];c&&(l=c(l))}for(var h in this.header)null!=this.header[h]&&o.setRequestHeader(h,this.header[h]);return this.emit("request",this),o.send(l),this},d.Request=p,d.get=function(t,e,i){var n=d("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},d.head=function(t,e,i){var n=d("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},d.del=function(t,e){var i=d("DELETE",t);return e&&i.end(e),i},d.patch=function(t,e,i){var n=d("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},d.post=function(t,e,i){var n=d("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},d.put=function(t,e,i){var n=d("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},e.exports=d},{emitter:6,reduce:7}],6:[function(t,e){function i(t){return t?n(t):void 0}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,s=0;s<i.length;s++)if(n=i[s],n===e||n.fn===e){i.splice(s,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,s=i.length;s>n;++n)i[n].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],7:[function(t,e){e.exports=function(t,e,i){for(var n=0,s=t.length,o=3==arguments.length?i:t[n++];s>n;)o=e.call(null,o,t[n],++n,t);return o}},{}],8:[function(t,e){"use strict";var i=t("./api"),n=t("./constants");e.exports={loadPlays:function(){var t=this;this.dispatch(n.LoadPlays),i.loadPlays(function(e){t.dispatch(n.LoadPlaysComplete,{plays:e.body})})},loadCollection:function(){var t=this;this.dispatch(n.LoadCollection),i.loadCollection(function(e){t.dispatch(n.LoadCollectionComplete,{games:e.body})})},changeSort:function(t){this.dispatch(n.ChangeSort,{property:t})},loadMenuExclusions:function(){var t=this;this.dispatch(n.LoadMenuExclusions),i.loadMenuExclusions(function(e){t.dispatch(n.LoadMenuExclusionsComplete,{exclusions:e.body})})},loadMenuData:function(){this.flux.actions.loadCollection(),this.flux.actions.loadMenuExclusions()},reseedMenu:function(){this.dispatch(n.ReseedMenu)}}},{"./api":9,"./constants":11}],9:[function(t,e){"use strict";function i(t){r.get("http://www.ewal.net/api/plays").use(o).end(t)}function n(t){r.get("http://www.ewal.net/api/collection").use(o).end(t)}function s(t){r.get("http://www.ewal.net/api/menuexclusions").use(o).end(t)}function o(t){return t.query({_:a().unix()}),t}var r=t("superagent"),a=t("moment");e.exports={loadCollection:n,loadPlays:i,loadMenuExclusions:s}},{moment:"moment",superagent:5}],10:[function(t,e){"use strict";var i=t("fluxxor"),n=t("./helper"),s=t("lazy.js"),o=(t("./profile"),React.createClass({displayName:"Collection",mixins:[i.FluxMixin(React),i.StoreWatchMixin("CollectionStore")],getStateFromFlux:function(){var t=this.getFlux().store("CollectionStore");return{games:t.games,gamesCount:t.gamesCount,expansionsCount:t.expansionsCount}},componentDidMount:function(){this.getFlux().actions.loadCollection()},render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("h2",null,"My Game Collection - ",React.createElement("a",{href:"/menu/"},React.createElement("span",{className:"wide-only"},"today's "),"menu")," - ",React.createElement("a",{href:"http://boardgamegeek.com/collection/user/edwalter?own=1"},"full list"),React.createElement(p,{games:this.state.gamesCount,expansions:this.state.expansionsCount})),React.createElement(r,{games:this.state.games})))}})),r=React.createClass({displayName:"CollectionTable",render:function(){if(0===this.props.games.length)return React.createElement(d,null);var t=this.props.games.map(function(t){return React.createElement(l,{game:t,key:t.gameId})});return React.createElement("table",{className:"collection-table table table-striped"},React.createElement("thead",null,React.createElement("tr",{className:"actions"},React.createElement("th",null,React.createElement(a,{property:"name"},"Name")),React.createElement("th",null,React.createElement(a,{property:"numPlays"},React.createElement("span",{className:"wide-only"},"Times "),"Played")),React.createElement("th",null,React.createElement(a,{property:"rating"},React.createElement("span",{className:"wide-only"},"My "),"Rating")))),React.createElement("tbody",null,t))}}),a=React.createClass({displayName:"CollectionColumnHeader",mixins:[i.FluxMixin(React)],onSort:function(t){t.preventDefault(),this.getFlux().actions.changeSort(this.props.property)},render:function(){return React.createElement("a",{href:"",onClick:this.onSort},this.props.children)}}),l=React.createClass({displayName:"CollectionRow",render:function(){var t=this.props.game;return React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{href:"http://boardgamegeek.com/boardgame/"+t.gameId},t.name),React.createElement(c,{game:t})),React.createElement("td",{className:"games-times-played"},React.createElement(h,{count:t.numPlays})),React.createElement("td",{className:"games-rating"},React.createElement(u,{value:t.rating})))}}),c=React.createClass({displayName:"ExpansionLink",componentDidMount:function(){if($){var t=this.props.game;if(t.expansionsOwnedCount>0){var e=s(t.expansions).where({owned:!0}).sortBy("sortableName").pluck("name").toArray(),i=e.join(",<br/>"),n=this.refs.link.getDOMNode();$(n).qtip({content:{title:"Expansions",text:i},position:{my:"bottom center",at:"top center",target:$(n),viewport:$(window)},hide:{fixed:!0},style:{classes:"qtip-bootstrap qtip-play"}})}}},componentWillUnmount:function(){var t=this.refs.link.getDOMNode();$&&$(t).qtip("destroy")},render:function(){var t=this.props.game;return t.expansionsOwnedCount>0?React.createElement("span",{ref:"link",className:"games-expansions games-expansions-link wide-only"},""+t.expansionsOwnedCount+(t.expansionsOwnedCount>1?" expansions":" expansion")):null}}),h=React.createClass({displayName:"TimesPlayed",render:function(){var t=this.props.count;return t>0?React.createElement("span",null,React.createElement("span",{className:"wide-only"},"Played "),React.createElement("b",null,t),t>1?" times":" time"):React.createElement("span",{className:"mdash"},"")}}),u=React.createClass({displayName:"Rating",render:function(){var t=this.props.value;if(function(){return 0}){for(var e=[],i=0;t>i&&10>i;i++)e.push(React.createElement("i",{className:"glyphicon glyphicon-star",key:i+1}));for(var n=t;10>n;n++)e.push(React.createElement("i",{className:"glyphicon glyphicon-star-empty",key:n+1}));return React.createElement("span",null,React.createElement("span",{className:"wide-only"},e),React.createElement("span",{className:"narrow-only"},t))}return React.createElement("span",{className:"mdash"},"")}}),p=React.createClass({displayName:"GameCount",render:function(){return this.props.loading?null:React.createElement("span",{className:"pull-right hidden-xs game-counts fade-in-slow"},React.createElement("b",null,this.props.games)," games, ",React.createElement("b",null,this.props.expansions)," expansions")}}),d=React.createClass({displayName:"WireframeCollectionTable",render:function(){return React.createElement("table",{className:"collection-table wireframe table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,React.createElement("span",{className:"wide-only"},"Times "),"Played"),React.createElement("th",null,React.createElement("span",{className:"wide-only"},"My "),"Rating"))),React.createElement("tbody",null,React.createElement(f,null),React.createElement(f,null),React.createElement(f,null),React.createElement(f,null),React.createElement(f,null)))}}),f=React.createClass({displayName:"WireframeRow",render:function(){return React.createElement("tr",null,React.createElement("td",null,""),React.createElement("td",{className:"games-times-played"},""),React.createElement("td",{className:"games-rating"},React.createElement("span",{className:"wide-only"},n.repeat(10,React.createElement("i",{className:"glyphicon glyphicon-star-empty"}))),React.createElement("span",{className:"narrow-only"},"")))}});e.exports=o},{"./helper":13,"./profile":15,fluxxor:"fluxxor","lazy.js":"lazy.js"}],11:[function(t,e){"use strict";var i=t("keymirror"),n={LoadCollection:null,LoadCollectionComplete:null,LoadPlays:null,LoadPlaysComplete:null,ChangeSort:null,LoadMenuExclusions:null,LoadMenuExclusionsComplete:null,ReseedMenu:null};e.exports=i(n)},{keymirror:3}],12:[function(t,e){"use strict";function i(t){return t.name=t.name.trim().replace(/\ \ +/," "),t.name.toLowerCase().endsWith(" base set")&&(t.name=t.name.substr(0,t.name.length-10).trim()),t.name.toLowerCase().endsWith(" expansion pack")&&(t.name=t.name.substr(0,t.name.length-15).trim()),t.isExpansion&&t.name.toLowerCase().startsWith("thunderstone advance: ")&&(t.name=t.name.substr(22).trim()),t.sortableName=t.name.toLowerCase().trim().replace(/^the\ |a\ |an\ /,""),t}var n=t("fluxxor"),s=t("./constants"),o=(t("./actions"),t("compare-property")),r=t("lazy.js"),a=n.createStore({initialize:function(){this.loading=!1,this.games=[],this.gamesCount=0,this.expansionsCount=0,this.sortBy="name",this.bindActions(s.LoadCollection,this.onLoadCollection,s.LoadCollectionComplete,this.onLoadCollectionComplete,s.ChangeSort,this.onChangeSort)},onLoadCollection:function(){this.loading=!0,this.emit("change")},onLoadCollectionComplete:function(t){this.loading=!1;var e=this._processGames(t.games);this._sortGames(e.games),this.games=e.games,this.gamesCount=e.gamesCount,this.expansionsCount=e.expansionsCount,this.emit("change")},onChangeSort:function(t){var e=t.property;e!==this.sortBy&&(this.sortBy=e,this._sortGames(this.games),this.emit("change"))},_processGames:function(t){t=r(t).filter(function(t){return t.owned&&!t.isExpansion}).toArray();for(var e,n=t.length,s=0,o=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=o.next()).done;){var a=e.value;i(a);
var l=a.name.toLowerCase();if(null!=a.expansions){for(var c,h=0,u=a.expansions[$traceurRuntime.toProperty(Symbol.iterator)]();!(c=u.next()).done;){var p=c.value;if(i(p),p.owned&&h++,p.name.toLowerCase().substr(0,l.length)===l){var d=p.name.substr(l.length).trimStart(" ");d.toLowerCase().match(/^[a-z]/)||(p.longName=p.name,p.name=d.trimStart(["","-",":"," "]),p.sortableName=p.name.toLowerCase().trim().replace(/^the\ |a\ |an\ /,""))}}a.expansionsOwnedCount=h,s+=h}}return{games:t,gamesCount:n,expansionsCount:s}},_sortGames:function(t){var e;switch(this.sortBy){case"numPlays":e=o.properties({numPlays:-1,sortableName:1});break;case"rating":e=o.properties({rating:-1,sortableName:1});break;default:e=o.property("sortableName",1)}t.sort(e)}}),l=n.createStore({initialize:function(){this.loading=!1,this.plays=[],this.bindActions(s.LoadPlays,this.onLoadPlays,s.LoadPlaysComplete,this.onLoadPlaysComplete)},onLoadPlays:function(){this.loading=!0,this.emit("change")},onLoadPlaysComplete:function(t){this.loading=!1,this.plays=this._processPlays(t.plays),this.emit("change")},_processPlays:function(t){var e=r(t).groupBy("gameId").map(function(t){return t}).sortBy(function(t){return t[0].playDate}).reverse().toArray(),n=e[Math.min(10,e.length)][0].playDate;e=e.map(function(t){var e={gameId:t[0].gameId,image:t[0].image,name:t[0].name,thumbnail:t[0].thumbnail,plays:r(t).filter(function(t){return t.playDate>n}).map(function(t){return{playDate:t.playDate,comments:t.comments}}).toArray()};return e});for(var s,o=e[$traceurRuntime.toProperty(Symbol.iterator)]();!(s=o.next()).done;){var a=s.value;i(a),a.key="play-"+a.gameId+"-"+a.plays.length}return e}});e.exports={CollectionStore:new a,PlaysStore:new l}},{"./actions":8,"./constants":11,"compare-property":2,fluxxor:"fluxxor","lazy.js":"lazy.js"}],13:[function(t,e){"use strict";function i(t){var e,i,n,s,o,a,l,c,u,p;return(o=t.match(h))?(e=new Date(0),u=0,p=0,i=o[8]?e.setUTCFullYear:e.setFullYear,c=o[8]?e.setUTCHours:e.setHours,o[9]&&(u=r(o[9]+o[10]),p=r(o[9]+o[11])),i.call(e,r(o[1]),r(o[2])-1,r(o[3])),n=r(o[4]||0)-u,s=r(o[5]||0)-p,l=r(o[6]||0),a=Math.round(1e3*parseFloat("0."+(o[7]||0))),c.call(e,n,s,l,a),e):t}function n(t){return"string"==typeof t}function s(t){return"number"==typeof t}function o(t){return"[object Date]"===toString.call(t)}function r(t){return parseInt(t,10)}function a(t){var e,a,l;return n(t)&&(t=u.test(t)?r(t):i(t)),s(t)&&(t=new Date(t)),o(t)?(a=c(t),l=c().startOf("day"),e=a.diff(l,"days",!0),-6>e?a.format("MMM D, YYYY"):-1>e?""+a.format("dddd"):0>e?"Yesterday":0===e?"Today":a.format("MMM D, YYYY")):t}function l(t,e){for(var i=[],n=0;t>n;n++)i.push(e);return i}var c=t("moment"),h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,u=/^\-?\d+$/;e.exports={jsonStringToDate:i,relativeDate:a,repeat:l}},{moment:"moment"}],14:[function(t,e){"use strict";function i(t){return $("<div/>").text(t).html()}var n=t("fluxxor"),s=t("./helper"),o=(t("qtip2"),React.createClass({displayName:"Plays",mixins:[n.FluxMixin(React),n.StoreWatchMixin("PlaysStore")],getStateFromFlux:function(){var t=this.getFlux().store("PlaysStore");return{loading:t.loading,plays:t.plays}},componentDidMount:function(){this.getFlux().actions.loadPlays()},render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("h2",null,"Most Recently Played Games - ",React.createElement("a",{href:"http://boardgamegeek.com/plays/bydate/user/edwalter/subtype/boardgame"},"full list")),React.createElement(r,{loading:this.state.loading,plays:this.state.plays})))}})),r=React.createClass({displayName:"PlaysTable",render:function(){if(0===this.props.plays.length)return React.createElement(l,null);for(var t=this.props.plays,e=[],i=0;i<t.length&&10>i;i++)e.push(React.createElement(a,{play:t[i],key:t[i].key}));return React.createElement("div",{className:"games-recent"},e)}}),a=React.createClass({displayName:"PlayItem",componentDidMount:function(){var t=this.refs.link.getDOMNode();if(this.refs.image.getDOMNode().addEventListener("load",function(t){var e=t.target;e.classList?e.classList.add("loaded"):e.className="loaded"}),$){var e=this.props.play,n=this.props.play.plays.map(function(t){return"<i>Played "+s.relativeDate(t.playDate)+"</i> - "+i(t.comments)}),o=n.join("<br/><br/>");$(t).qtip({content:{title:e.name,text:o},position:{my:"bottom center",at:"top center",target:$(t),viewport:$(window)},hide:{fixed:!0},style:{classes:"qtip-bootstrap qtip-play"}})}},componentWillUnmount:function(){var t=this.refs.link.getDOMNode();$&&$(t).qtip("destroy")},render:function(){var t=this.props.play;return React.createElement("a",{ref:"link",className:"games-recent-item",href:"http://boardgamegeek.com/boardgame/"+t.gameId},React.createElement("img",{ref:"image",src:t.thumbnail,alt:t.name}))}}),l=React.createClass({displayName:"WireframePlaysList",render:function(){return React.createElement("div",{className:"games-recent wireframe"},s.repeat(10,React.createElement("a",{className:"games-recent-item"},React.createElement("img",{src:"/images/blank.gif"})),10))}});e.exports=o},{"./helper":13,fluxxor:"fluxxor",qtip2:4}],15:[function(t,e){"use strict";e.exports=React.createClass({displayName:"exports",render:function(){return React.createElement("div",{id:"me"},React.createElement("p",null,React.createElement("img",{src:"http://en.gravatar.com/avatar/5fcc0f8df1923f433513b0f731c99402?s=100",alt:"Erv Walter"}),"I'm ",React.createElement("b",null,"Erv Walter"),", a software developer, a computer geek, and a board game addict living in Sun Prairie, Wisconsin.  My interests include Azure, ASP.NET, Node.js, ReactJS, AngularJS, and web development in general. And I'm a sucker for any kind of gadget."),React.createElement("p",null,React.createElement("a",{href:"http://twitter.com/ervwalter"},"@ErvWalter")," ",React.createElement("a",{href:"https://github.com/ervwalter"},"GitHub")," ",React.createElement("a",{href:"mailto:erv@ewal.net"},"Email Me")))}})},{}]},{},[1]);